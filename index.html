<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Modern Calendar â€“ Indian Festivals (macOS UI)</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  /* Reset & fonts */
  *{margin:0;padding:0;box-sizing:border-box;font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif}
  html,body{height:100%;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-font-smoothing:antialiased}

  /* mac window shell */
  .mac-shell{display:flex;justify-content:center;align-items:center;height:100vh;padding:24px}
  .mac-window{width:980px;max-width:98%;background:rgba(255,255,255,0.95);border-radius:14px;box-shadow:0 20px 60px rgba(0,0,0,0.35);overflow:hidden;backdrop-filter:blur(6px);border:1px solid rgba(0,0,0,0.06)}

  /* Titlebar (mac style) */
  .mac-titlebar{height:48px;display:flex;align-items:center;padding:0 14px;gap:12px;background:linear-gradient(180deg,rgba(255,255,255,0.92),rgba(255,255,255,0.85));border-bottom:1px solid rgba(0,0,0,0.04)}
  .traffic{display:flex;gap:8px;align-items:center}
  .traffic .btn{width:12px;height:12px;border-radius:50%;box-shadow:inset 0 -1px rgba(0,0,0,0.12)}
  .close{background:#ff5f57}
  .minimize{background:#ffbd2e}
  .zoom{background:#28c840}
  .title{flex:1;text-align:center;font-weight:600;color:#333;font-size:14px;opacity:0.95}
  .title .icon{margin-right:8px}
  .title-actions{display:flex;gap:8px;align-items:center}
  .title-actions button{background:none;border:none;padding:6px;border-radius:8px;cursor:pointer}

  /* mac toolbar under titlebar */
  .mac-toolbar{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid rgba(0,0,0,0.03)}
  .mac-toolbar .left{display:flex;gap:8px;align-items:center}
  .mac-toolbar .search{background:rgba(0,0,0,0.05);padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.03)}
  .mac-toolbar .controls{display:flex;gap:8px}
  .mac-toolbar .controls button{background:transparent;border:1px solid rgba(0,0,0,0.06);padding:8px 12px;border-radius:8px;cursor:pointer}

  /* existing calendar container, adapted to mac window */
  .calendar-container{width:100%;max-width:900px;margin:14px auto;background:linear-gradient(135deg,#ffffff,#f8f9fb);padding:0;border-radius:10px;overflow:hidden}
  .calendar-header{background:linear-gradient(to right,#4A00E0,#8E2DE2);color:white;text-align:center;padding:30px 20px;position:relative}
  .date-display{font-size:3.6rem;font-weight:800}
  .month-year-display{font-size:1.2rem;opacity:0.95}
  .day-display{display:inline-block;background:rgba(255,255,255,0.15);padding:6px 16px;border-radius:20px;margin-top:8px}

  .festival-banner{margin-top:10px;background:rgba(255,255,255,0.15);border-radius:10px;padding:6px 12px;color:#fff;font-weight:700}

  .motivation-section{padding:22px;background:transparent;text-align:center}
  .quote-icon{font-size:1.6rem;color:#8E2DE2;opacity:0.8}
  .motivation-quote{font-size:1.05rem;color:#222;margin:10px 0}
  .quote-author{color:#444;font-style:italic}

  .reminders-section{padding:18px;background:transparent;max-height:260px;overflow-y:auto}
  .reminders-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  .reminders-title{font-weight:700;color:#333;font-size:1rem}
  .reminder-item{display:flex;align-items:center;padding:10px;background:#fff;margin-bottom:10px;border-radius:10px;box-shadow:0 1px 4px rgba(0,0,0,0.03)}
  .reminder-checkbox{margin-right:10px;width:18px;height:18px;border-radius:50%;border:2px solid #8E2DE2;appearance:none;cursor:pointer}
  .reminder-checkbox:checked{background:#8E2DE2}
  .reminder-text{flex:1}
  .reminder-completed{text-decoration:line-through;color:#777}
  .reminder-time{font-size:0.8rem;color:#777;margin-left:8px}
  .delete-reminder{background:none;border:none;color:#ff4757;font-size:1.1rem;cursor:pointer}

  .navigation-section{display:flex;justify-content:space-between;align-items:center;gap:8px;padding:12px;background:transparent}
  .nav-btn{flex:1;background:#f3f4f6;color:#4A00E0;border:none;padding:10px;border-radius:12px;font-weight:700;cursor:pointer}
  .nav-btn:hover{filter:brightness(0.98)}
  .gesture-hint{text-align:center;padding:10px;color:#666;background:transparent}

  /* month view adjustments */
  .view-toggle{display:flex;background:#f1f3f5;border-radius:999px;padding:6px;margin:12px;align-self:center;width:fit-content;margin-left:16px}
  .view-btn{padding:8px 14px;border-radius:999px;cursor:pointer;color:#444}
  .view-btn.active{background:#fff;color:#4A00E0;font-weight:700;box-shadow:0 4px 12px rgba(66,43,150,0.06)}
  .month-view{display:none;padding:15px}
  .month-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
  .month-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
  .day-header{text-align:center;font-weight:700;color:#4A00E0;padding:8px 0}
  .day-cell{text-align:center;padding:10px 6px;border-radius:8px;cursor:pointer;background:transparent}
  .day-cell:hover{background:#fff}
  .day-cell.current{background:#4A00E0;color:white}
  .day-cell.festival{position:relative}
  .day-cell.festival::after{content:"";position:absolute;bottom:6px;left:50%;transform:translateX(-50%);width:6px;height:6px;background:#ff4757;border-radius:50%}

  /* modal tweaks for mac */
  .modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.35);justify-content:center;align-items:center;z-index:120}
  .modal-content{background:#fff;padding:20px;border-radius:12px;max-width:420px;width:92%;box-shadow:0 12px 50px rgba(0,0,0,0.25)}

  /* responsive */
  @media (max-width:720px){
    .mac-window{width:98%;border-radius:12px}
    .mac-titlebar{height:44px}
    .date-display{font-size:2.6rem}
  }

  /* Dark mode support (toggleable) */
  .dark .mac-window{background:#0b1020;color:#e6eef8}
  .dark .calendar-container{background:linear-gradient(180deg,#0f1724,#071029)}
  .dark .calendar-header{background:linear-gradient(90deg,#0f1724,#0b1220)}
  .dark .reminder-item{background:rgba(255,255,255,0.02);box-shadow:none}
  .dark .nav-btn{background:#081028;color:#9fb7ff}
  .dark .view-toggle{background:rgba(255,255,255,0.02)}

</style>
</head>
<body>
  <div class="mac-shell">
    <div class="mac-window" id="mac-window">
      <div class="mac-titlebar">
        <div class="traffic" aria-hidden>
          <div class="btn close"></div>
          <div class="btn minimize"></div>
          <div class="btn zoom"></div>
        </div>
        <div class="title"><span class="icon"><i class="fas fa-calendar-alt"></i></span>Modern Calendar</div>
        <div class="title-actions">
          <button id="toggle-dark" title="Toggle Dark Mode"><i class="fas fa-moon"></i></button>
          <button id="open-in-new" title="Open in new window"><i class="fas fa-window-maximize"></i></button>
        </div>
      </div>

      <div class="mac-toolbar">
        <div class="left">
          <div class="search"><i class="fas fa-search"></i> <input id="mini-search" placeholder="Search reminders / festivals" style="border:none;background:transparent;outline:none;margin-left:8px;width:220px"></div>
          <div style="width:8px"></div>
          <div style="font-weight:600;color:#333">India</div>
        </div>
        <div class="controls">
          <button id="sync-btn" title="Sync">Sync</button>
          <button id="settings-btn" title="Settings"><i class="fas fa-gear"></i></button>
        </div>
      </div>

      <!-- Keep original calendar container but adapted -->
      <div class="calendar-container" id="calendar-container">
        <div class="view-toggle">
          <div class="view-btn active" id="day-view-btn">Day View</div>
          <div class="view-btn" id="month-view-btn">Month View</div>
        </div>

        <!-- Day View -->
        <div id="day-view">
          <div class="calendar-header">
            <div class="date-display" id="current-date">15</div>
            <div class="month-year-display" id="current-month-year">October 2025</div>
            <div class="day-display" id="current-day">Sunday</div>
            <div class="festival-banner" id="festival-banner" style="display:none;"></div>
          </div>

          <div class="motivation-section">
            <div class="quote-icon"><i class="fas fa-quote-left"></i></div>
            <div class="motivation-quote" id="daily-quote">The only way to do great work is to love what you do.</div>
            <div class="quote-author" id="quote-author">- Steve Jobs</div>
          </div>

          <div class="reminders-section">
            <div class="reminders-header">
              <div class="reminders-title">Today's Reminders</div>
              <button class="add-reminder-btn" id="add-reminder" style="background:linear-gradient(to right,#4A00E0,#8E2DE2);color:white;border:none;width:42px;height:42px;border-radius:50%;font-size:1.3rem;cursor:pointer;"><i class="fas fa-plus"></i></button>
            </div>
            <ul class="reminders-list" id="reminders-list"></ul>
          </div>

          <div class="upcoming-festivals" style="margin:16px">
            <div class="upcoming-title">Upcoming Festivals</div>
            <div id="upcoming-festivals-list"></div>
          </div>
        </div>

        <!-- Month View -->
        <div class="month-view" id="month-view">
          <div class="month-header">
            <button class="nav-btn" id="prev-month"><i class="fas fa-chevron-left"></i></button>
            <div id="current-month-year-title">October 2025</div>
            <button class="nav-btn" id="next-month"><i class="fas fa-chevron-right"></i></button>
          </div>
          <div class="month-grid" id="month-grid">
            <!-- Calendar grid will be generated here -->
          </div>
        </div>

        <div class="navigation-section">
          <button class="nav-btn" id="prev-day"><i class="fas fa-chevron-left"></i></button>
          <button class="nav-btn" id="today-btn"><i class="fas fa-circle"></i> Today</button>
          <button class="nav-btn" id="festival-btn"><i class="fas fa-gopuram"></i> Festivals</button>
          <button class="nav-btn" id="next-day"><i class="fas fa-chevron-right"></i></button>
        </div>
        <div class="gesture-hint"><i class="fas fa-arrows-left-right"></i> Swipe left/right to change dates</div>
      </div>

    </div>
  </div>

  <!-- Reminder Modal -->
  <div class="modal" id="reminder-modal">
    <div class="modal-content">
      <h2 class="modal-title">Add New Reminder</h2>
      <input id="reminder-text" type="text" placeholder="Enter reminder..." style="width:100%;padding:10px;border:1px solid #ccc;border-radius:8px;">
      <div class="time-input" style="display:flex;gap:10px;margin-top:10px;">
        <select id="reminder-hour">
          <option value="">No time</option>
        </select>
        <select id="reminder-minute">
          <option value="">No time</option>
        </select>
        <select id="reminder-period">
          <option value="AM">AM</option>
          <option value="PM">PM</option>
        </select>
      </div>
      <div class="modal-actions" style="text-align:right;margin-top:16px;">
        <button class="btn btn-cancel" id="cancel-reminder">Cancel</button>
        <button class="btn btn-save" id="save-reminder">Save</button>
      </div>
    </div>
  </div>

  <!-- Festival Modal -->
  <div class="modal" id="festival-modal">
    <div class="modal-content">
      <h2 class="modal-title">ðŸŽ‰ Indian Festivals</h2>
      <div style="margin-bottom:15px;">
        <select id="festival-year" style="width:100%;padding:8px;border-radius:8px;border:1px solid #ccc;">
        </select>
      </div>
      <ul class="festival-list" id="festival-list"></ul>
      <div class="modal-actions"><button class="btn btn-cancel" id="close-festival">Close</button></div>
    </div>
  </div>

<script>
  // --- original app logic preserved with small integrations for mac UI controls ---
  const quotes=[
    {text:"The only way to do great work is to love what you do.",author:"Steve Jobs"},
    {text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},
    {text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},
    {text:"The future belongs to those who believe in the beauty of their dreams.",author:"Eleanor Roosevelt"},
    {text:"It does not matter how slowly you go as long as you do not stop.",author:"Confucius"}
  ];
  let reminders = JSON.parse(localStorage.getItem('calendarReminders') || '{}');
  let currentDate = new Date();
  let currentMonthView = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);

  const dateDisplay = document.getElementById('current-date');
  const monthYearDisplay = document.getElementById('current-month-year');
  const dayDisplay = document.getElementById('current-day');
  const quoteDisplay = document.getElementById('daily-quote');
  const authorDisplay = document.getElementById('quote-author');
  const remindersList = document.getElementById('reminders-list');
  const banner = document.getElementById('festival-banner');
  const dayView = document.getElementById('day-view');
  const monthView = document.getElementById('month-view');
  const monthGrid = document.getElementById('month-grid');
  const currentMonthYearTitle = document.getElementById('current-month-year-title');
  const upcomingFestivalsList = document.getElementById('upcoming-festivals-list');

  const festivalData = {
    2025: [
      {day:14,month:0,name:"Makar Sankranti"},
      {day:26,month:1,name:"Maha Shivaratri"},
      {day:14,month:2,name:"Holi"},
      {day:6,month:3,name:"Ram Navami"},
      {day:12,month:3,name:"Hanuman Jayanti"},
      {day:30,month:2,name:"Eid al-Fitr"},
      {day:9,month:7,name:"Raksha Bandhan"},
      {day:16,month:7,name:"Janmashtami"},
      {day:8,month:8,name:"Ganesh Chaturthi"},
      {day:2,month:9,name:"Dussehra"},
      {day:20,month:9,name:"Diwali"},
      {day:5,month:10,name:"Guru Nanak Jayanti"},
      {day:25,month:11,name:"Christmas"}
    ],
    2026: [
      {day:14,month:0,name:"Makar Sankranti"},
      {day:15,month:1,name:"Maha Shivaratri"},
      {day:3,month:2,name:"Holi"},
      {day:26,month:2,name:"Ram Navami"},
      {day:1,month:3,name:"Hanuman Jayanti"},
      {day:20,month:2,name:"Eid al-Fitr"},
      {day:28,month:7,name:"Raksha Bandhan"},
      {day:5,month:8,name:"Janmashtami"},
      {day:27,month:8,name:"Ganesh Chaturthi"},
      {day:21,month:9,name:"Dussehra"},
      {day:8,month:10,name:"Diwali"},
      {day:24,month:10,name:"Guru Nanak Jayanti"},
      {day:25,month:11,name:"Christmas"}
    ]
  };

  function initTimeDropdowns() {
    const hourSelect = document.getElementById('reminder-hour');
    const minuteSelect = document.getElementById('reminder-minute');
    for (let i = 1; i <= 12; i++) {const option = document.createElement('option');option.value = i;option.textContent = i;hourSelect.appendChild(option);}    
    for (let i = 0; i < 60; i += 5) {const option = document.createElement('option');option.value = i < 10 ? '0' + i : i;option.textContent = i < 10 ? '0' + i : i;minuteSelect.appendChild(option);}  }
  function initFestivalYearDropdown() {const yearSelect = document.getElementById('festival-year');const currentYear = new Date().getFullYear();for (let year = currentYear - 1; year <= currentYear + 2; year++) {const option = document.createElement('option');option.value = year;option.textContent = year;if (year === currentYear) option.selected = true;yearSelect.appendChild(option);} }

  function updateCalendar() {
    dateDisplay.textContent = currentDate.getDate();
    monthYearDisplay.textContent = currentDate.toLocaleString('en-US', {month: 'long', year: 'numeric'});
    dayDisplay.textContent = currentDate.toLocaleString('en-US', {weekday: 'long'});
    const q = quotes[currentDate.getDate() % quotes.length];quoteDisplay.textContent = q.text;authorDisplay.textContent = `- ${q.author}`;
    updateReminders();checkFestivalBanner();updateUpcomingFestivals();if (monthView.style.display === 'block') renderMonthView();
  }

  function getKey(date = currentDate) {return date.toISOString().split('T')[0];}

  function updateReminders() {
    const key = getKey();remindersList.innerHTML = '';
    if (!reminders[key] || reminders[key].length === 0) {remindersList.innerHTML = '<div class="no-reminders">No reminders today.</div>';return;}
    reminders[key].sort((a, b) => {if (!a.time && !b.time) return 0; if (!a.time) return 1; if (!b.time) return -1; return a.time.localeCompare(b.time);});
    reminders[key].forEach((r, i) => {
      const li = document.createElement('li');li.className = 'reminder-item';
      const timeDisplay = r.time ? `<span class="reminder-time">${r.time}</span>` : '';
      li.innerHTML = `
        <input type="checkbox" class="reminder-checkbox" ${r.completed ? 'checked' : ''}>
        <span class="reminder-text ${r.completed ? 'reminder-completed' : ''}">${r.text}</span>
        ${timeDisplay}
        <button class="delete-reminder"><i class="fas fa-times"></i></button>
      `;
      const cb = li.querySelector('.reminder-checkbox');cb.addEventListener('change', () => {reminders[key][i].completed = cb.checked;save();updateReminders();});
      li.querySelector('.delete-reminder').addEventListener('click', () => {reminders[key].splice(i, 1);save();updateReminders();});
      remindersList.appendChild(li);
    });
  }

  function save() {localStorage.setItem('calendarReminders', JSON.stringify(reminders));}

  function checkFestivalBanner() {const d = currentDate.getDate();const m = currentDate.getMonth();const y = currentDate.getFullYear();const festivals = festivalData[y] || [];const f = festivals.find(f => f.day === d && f.month === m);if (f) {banner.style.display = 'block';banner.textContent = `ðŸŽ‰ Happy ${f.name} Today! ðŸª”`} else {banner.style.display = 'none';}}

  function updateUpcomingFestivals() {upcomingFestivalsList.innerHTML = '';const today = new Date(currentDate);const upcoming = [];for (let i = 1; i <= 30; i++) {const checkDate = new Date(today);checkDate.setDate(today.getDate() + i);const d = checkDate.getDate();const m = checkDate.getMonth();const y = checkDate.getFullYear();const festivals = festivalData[y] || [];const f = festivals.find(f => f.day === d && f.month === m);if (f) {upcoming.push({name: f.name,date: checkDate});if (upcoming.length >= 5) break;}}if (upcoming.length === 0) {upcomingFestivalsList.innerHTML = '<div class="no-reminders">No upcoming festivals in the next 30 days.</div>';return;}upcoming.forEach(festival => {const item = document.createElement('div');item.className = 'upcoming-item';item.innerHTML = `<span>${festival.name}</span><span>${festival.date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</span>`;upcomingFestivalsList.appendChild(item);});}

  function renderMonthView() {monthGrid.innerHTML = '';currentMonthYearTitle.textContent = currentMonthView.toLocaleString('en-US', {month: 'long', year: 'numeric'});
    const days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];days.forEach(day => {const dayHeader = document.createElement('div');dayHeader.className = 'day-header';dayHeader.textContent = day;monthGrid.appendChild(dayHeader);});
    const firstDay = new Date(currentMonthView.getFullYear(), currentMonthView.getMonth(), 1);
    const lastDay = new Date(currentMonthView.getFullYear(), currentMonthView.getMonth() + 1, 0);
    const startDay = firstDay.getDay();const daysInMonth = lastDay.getDate();
    for (let i = 0; i < startDay; i++) {const emptyCell = document.createElement('div');emptyCell.className = 'day-cell';monthGrid.appendChild(emptyCell);}    
    const currentYear = currentMonthView.getFullYear();const currentMonth = currentMonthView.getMonth();const festivalsThisMonth = festivalData[currentYear] ? festivalData[currentYear].filter(f => f.month === currentMonth) : [];
    for (let day = 1; day <= daysInMonth; day++) {const dayCell = document.createElement('div');dayCell.className = 'day-cell';dayCell.textContent = day;const today = new Date();if (day === today.getDate() && currentMonth === today.getMonth() && currentYear === today.getFullYear()) {dayCell.classList.add('current');}if (festivalsThisMonth.some(f => f.day === day)) {dayCell.classList.add('festival');}
      dayCell.addEventListener('click', () => {currentDate = new Date(currentYear, currentMonth, day);switchToDayView();updateCalendar();});monthGrid.appendChild(dayCell);} }

  function switchToDayView() {dayView.style.display = 'block';monthView.style.display = 'none';document.getElementById('day-view-btn').classList.add('active');document.getElementById('month-view-btn').classList.remove('active');}
  function switchToMonthView() {dayView.style.display = 'none';monthView.style.display = 'block';document.getElementById('day-view-btn').classList.remove('active');document.getElementById('month-view-btn').classList.add('active');renderMonthView();}

  function updateFestivalList() {const year = parseInt(document.getElementById('festival-year').value);const festivalList = document.getElementById('festival-list');festivalList.innerHTML = '';const festivals = festivalData[year] || [];if (festivals.length === 0) {festivalList.innerHTML = '<li>No festival data available for this year.</li>';return;}festivals.forEach(festival => {const date = new Date(year, festival.month, festival.day);const li = document.createElement('li');li.innerHTML = `ðŸŽ‰ ${festival.name} â€” ${date.toLocaleDateString('en-US', { month: 'long', day: 'numeric' })}`;festivalList.appendChild(li);});}

  // Event Listeners
  document.getElementById('prev-day').onclick = () => {currentDate.setDate(currentDate.getDate() - 1);updateCalendar();};
  document.getElementById('next-day').onclick = () => {currentDate.setDate(currentDate.getDate() + 1);updateCalendar();};
  document.getElementById('today-btn').onclick = () => {currentDate = new Date();updateCalendar();};
  document.getElementById('prev-month').onclick = () => {currentMonthView.setMonth(currentMonthView.getMonth() - 1);renderMonthView();};
  document.getElementById('next-month').onclick = () => {currentMonthView.setMonth(currentMonthView.getMonth() + 1);renderMonthView();};
  document.getElementById('day-view-btn').onclick = switchToDayView;document.getElementById('month-view-btn').onclick = switchToMonthView;

  const reminderModal = document.getElementById('reminder-modal');
  document.getElementById('add-reminder').onclick = () => {document.getElementById('reminder-text').value = '';document.getElementById('reminder-hour').value = '';document.getElementById('reminder-minute').value = '';document.getElementById('reminder-period').value = 'AM';reminderModal.style.display = 'flex';document.getElementById('reminder-text').focus();};
  document.getElementById('cancel-reminder').onclick = () => reminderModal.style.display = 'none';
  document.getElementById('save-reminder').onclick = () => {const text = document.getElementById('reminder-text').value.trim();if (!text) {reminderModal.style.display = 'none';return;}const hour = document.getElementById('reminder-hour').value;const minute = document.getElementById('reminder-minute').value;const period = document.getElementById('reminder-period').value;let time = '';if (hour && minute) {time = `${hour}:${minute} ${period}`;}const key = getKey();if (!reminders[key]) reminders[key] = [];reminders[key].push({text, time, completed: false});save();updateReminders();reminderModal.style.display = 'none';};
  reminderModal.addEventListener('click', e => {if (e.target === reminderModal) reminderModal.style.display = 'none';});

  const festivalModal = document.getElementById('festival-modal');
  document.getElementById('festival-btn').onclick = () => {updateFestivalList();festivalModal.style.display = 'flex';};
  document.getElementById('close-festival').onclick = () => festivalModal.style.display = 'none';
  festivalModal.addEventListener('click', e => {if (e.target === festivalModal) festivalModal.style.display = 'none';});
  document.getElementById('festival-year').addEventListener('change', updateFestivalList);

  // mac bar interactions
  document.getElementById('toggle-dark').addEventListener('click', () => {document.body.classList.toggle('dark');});
  document.getElementById('mini-search').addEventListener('input', (e) => {
    const q = e.target.value.toLowerCase();
    // simple filter for reminders & festivals on current month
    const keys = Object.keys(reminders);
    // keep this simple â€” advanced search can be added later
  });

  // small utility: open calendar in new window (simulated)
  document.getElementById('open-in-new').addEventListener('click', () => {window.open(location.href, '_blank');});

  // Initialize
  initTimeDropdowns();initFestivalYearDropdown();updateCalendar();

  // Add swipe support for mobile
  let touchStartX = 0;let touchEndX = 0;document.getElementById('calendar-container').addEventListener('touchstart', e => {touchStartX = e.changedTouches[0].screenX;});document.getElementById('calendar-container').addEventListener('touchend', e => {touchEndX = e.changedTouches[0].screenX;handleSwipe();});
  function handleSwipe(){const swipeThreshold = 50;const diff = touchStartX - touchEndX;if (Math.abs(diff) > swipeThreshold) {if (diff > 0) {currentDate.setDate(currentDate.getDate() + 1);} else {currentDate.setDate(currentDate.getDate() - 1);}updateCalendar();}}

</script>
</body>
</html>
